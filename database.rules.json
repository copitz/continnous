{
  "rules": {
    "security": {
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin'",
          ".write": "auth.uid != null && auth.token.email != null && (data.val() == null || newData.parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')",
          "permissions": {
            "$role": {
              ".read": "auth.uid != null && auth.token.email != null && (root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == $role || root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == null && (auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child($role).child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child($role).child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child($role).child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child($role).child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child($role).child('' + 4).val()))))"
            }
          },
          "users": {
            "$uid": {
              ".write": "data.val() == null && (auth.uid != null && auth.token.email != null) && ($uid == auth.uid && newData.val() == '?' || newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin') || data.val() != null && newData.val() != null && (auth.uid != null && auth.token.email != null) && newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' || data.val() != null && newData.val() == null && (auth.uid != null && auth.token.email != null) && ($uid == auth.uid || newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')",
              ".read": "auth.uid != null && auth.token.email != null && ($uid == auth.uid || root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true || root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')"
            }
          }
        }
      }
    },
    "journals": {
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true",
          "$eid": {
            ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child(newData.val() == null ? data.child('resource').val() : newData.child('resource').val()).child((newData.val() == null ? data.child('action').val() : newData.child('action').val()) == 'comment' ? 'read' : 'write').val() == true"
          }
        }
      }
    },
    "likes": {
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true",
          "byUser": {
            "$uid": {
              "$rid": {
                ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true && $uid == auth.uid"
              }
            }
          },
          "byResource": {
            "$rid": {
              "$uid": {
                ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true && $uid == auth.uid"
              }
            }
          }
        }
      }
    },
    "scorings": {
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true",
          "$rid": {
            "$uid": {
              ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true && $uid == auth.uid"
            }
          }
        }
      }
    },
    "watchers": {
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true",
          ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin'",
          "$rid": {
            "$uid": {
              ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true"
            }
          }
        }
      }
    },
    "views": {
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true",
          "$rid": {
            ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true && $rid == auth.uid",
            "$uid": {
              ".write": "auth.uid != null && auth.token.email != null && newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true && $uid == auth.uid"
            }
          }
        }
      }
    },
    "flashlight": {
      "paths": {
        "$pid": {
          ".write": "auth.uid != null && auth.token.email != null && (newData.val() != null && (newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() == 'admin' || $pid.contains('-' + newData.child('index').val() + '-' + auth.uid + '-') && newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('permissions').child(newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child(newData.child('type').val()).child('read').val() == true) || newData.val() == null && (data.val() == null || newData.parent().parent().parent().child('security').child('organizations').child(data.child('index').val()).child('users').child(auth.uid).val() == 'admin' || $pid.contains('-' + data.child('index').val() + '-' + auth.uid + '-')))"
        }
      },
      "queries": {
        "$qid": {
          ".write": "auth.uid != null && auth.token.email != null && (data.val() == null && newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('permissions').child(newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().child('security').child('organizations').child(newData.child('index').val()).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child(newData.child('type').val() == 'users' ? 'organization' : newData.child('type').val()).child('read').val() == true || newData.val() == null)"
        }
      },
      "results": {
        "$qid": {
          ".read": "auth.uid != null && auth.token.email != null",
          ".write": "auth.uid != null && auth.token.email != null && newData.val() == null"
        }
      }
    },
    "organizations": {
      "$oid": {
        ".read": "auth.uid != null && auth.token.email != null && (data.val() == null || root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true || root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')",
        ".write": "auth.uid != null && auth.token.email != null && (newData.parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' || data.val() == null)",
        "name": {
          ".read": "auth.uid != null && auth.token.email != null"
        }
      }
    },
    "users": {
      "$uid": {
        ".read": "auth.uid == $uid",
        "organizations": {
          "$oid": {
            ".write": "auth.uid == $uid && (newData.val() == true && newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true || newData.val() == false || newData.val() == null) || newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true && newData.val() != null && data.val() == null && newData.child('invitedBy').val() == auth.uid || newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin'"
          }
        }
      },
      "organizations": {
        "$oid": {
          ".read": "auth.uid != null && auth.token.email != null && (root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true || root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')",
          "$uid": {
            ".write": "auth.uid != null && auth.token.email != null && ($uid == auth.uid || newData.parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')"
          }
        }
      }
    },
    "$branch": {
      "organizations": {
        "$oid": {
          "$scope": {
            "$type": {
              ".read": "($branch == 'resources' || $branch == 'archive') && (auth.uid != null && auth.token.email != null) && (root.child('security').child('organizations').child($oid).child('permissions').child(root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child(($scope == 'organization' ? '' : 'personal_') + $type).child('read').val() == true && ($scope == 'organization' || $scope == auth.uid))",
              "$rid": {
                ".write": "($branch == 'resources' || $branch == 'archive') && (auth.uid != null && auth.token.email != null) && (newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child(($scope == 'organization' ? '' : 'personal_') + $type).child('write').val() == true && ($scope == 'organization' || $scope == auth.uid)) && (data.val() == null || ($scope == 'organization' || $scope == auth.uid) || newData.val() == null && newData.parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin')",
                "$key": {
                  ".write": "($branch == 'resources' || $branch == 'archive') && ($key == 'stats' || $key == 'rank') && (auth.uid != null && auth.token.email != null) && (newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('permissions').child(newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() != null ? newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() == 'admin' ? 'member' : newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + newData.parent().parent().parent().parent().parent().parent().parent().child('security').child('organizations').child($oid).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child(($scope == 'organization' ? '' : 'personal_') + $type).child('read').val() == true && ($scope == 'organization' || $scope == auth.uid))"
                }
              }
            }
          }
        }
      }
    },
    "domains": {
      "$domain": {
        ".read": "auth.uid != null && auth.token.email != null && (root.child('security').child('organizations').child(data.val()).child('permissions').child(root.child('security').child('organizations').child(data.val()).child('users').child(auth.uid).val() != null ? root.child('security').child('organizations').child(data.val()).child('users').child(auth.uid).val() == 'admin' ? 'member' : root.child('security').child('organizations').child(data.val()).child('users').child(auth.uid).val() : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('member').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('member').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('member').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('member').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('member').child('' + 4).val())) ? 'member' : auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('guest').child('' + 0).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('guest').child('' + 1).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('guest').child('' + 2).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('guest').child('' + 3).val())) || auth.token.email.endsWith(('@' + root.child('security').child('organizations').child(data.val()).child('domains').child('guest').child('' + 4).val())) ? 'guest' : 'anyone').child('organization').child('read').val() == true || root.child('security').child('organizations').child(data.val()).child('users').child(auth.uid).val() == 'admin')",
        ".write": "auth.uid != null && auth.token.email != null && (newData.val() != null && newData.parent().parent().child('security').child('organizations').child(newData.val()).child('users').child(auth.uid).val() == 'admin' || newData.val() == null && newData.parent().parent().child('security').child('organizations').child(data.val()).child('users').child(auth.uid).val() == 'admin')"
      }
    }
  }
}
